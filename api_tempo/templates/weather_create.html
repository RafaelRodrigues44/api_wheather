{% extends 'base.html' %}

{% block content %}
    <h2 style="margin-left: 250px;">Criar Previsão do Tempo</h2>
    <form id="createWeatherForm" method="post" action="{% url 'weather-create' %}" style="max-width: 400px; margin: 0 auto; margin-left: 250px;">
        {% csrf_token %}
        <div style="text-align: center;">
            <label for="city" style="display: block; margin-bottom: 10px;">Cidade:</label>
            <input type="text" id="city" name="city" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="date" style="display: block; margin-bottom: 10px;">Data:</label>
            <input type="datetime-local" id="date" name="date" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="temperature" style="display: block; margin-bottom: 10px;">Temperatura:</label>
            <input type="number" id="temperature" name="temperature" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="pressure" style="display: block; margin-bottom: 10px;">Pressão:</label>
            <input type="number" id="pressure" name="pressure" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="humidity" style="display: block; margin-bottom: 10px;">Umidade:</label>
            <input type="number" id="humidity" name="humidity" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="precipitation" style="display: block; margin-bottom: 10px;">Precipitação:</label>
            <input type="number" id="precipitation" name="precipitation" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>

            <label for="weather_condition" style="display: block; margin-bottom: 10px;">Condição do Tempo:</label>
            <input type="text" id="weather_condition" name="weather_condition" style="width: 100%; padding: 8px; margin-bottom: 20px;" required>
        </div>

        <!-- Div oculta para exibir mensagem de sucesso -->
        <div id="successMessage" style="display: none; text-align: center; margin-top: 20px;">
            <p style="color: green;">Previsão do tempo criada com sucesso!</p>
        </div>

        <button type="submit" style="display: block; margin: 0 auto; padding: 10px 20px; background-color: #007bff; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Criar Previsão do Tempo</button>
    </form>

    <style>
        /* Estilo para a mensagem de sucesso */
        #successMessage {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
        }
    </style>

    <script>
        // JavaScript para exibir a mensagem de sucesso após a submissão do formulário
        document.getElementById("createWeatherForm").addEventListener("submit", function(event) {
            document.getElementById("successMessage").style.display = "block";
        });
    </script>
{% endblock %}
